----------------------------
-- nginx.conf 설정 (/etc/nginx/conf.d/app_nginx.conf)
    >> 
    >> 
    >> 
    >> sudo vi /etc/nginx/conf.d/app_nginx.conf 또는 myDjangoWebSvr_nginx.conf
----------------------------
server {
    listen 30002;
    server_name 127.0.0.1;

    #charset  koi8-r;
    charset  utf-8;
    client_max_body_size  75M;

    #access_log /var/log/nginx/myDjangoWebSvr_access.log  main;
    #error_log /var/log/nginx/myDjangoWebSvr_error.log;

    location = /favicon.ico { access_log off; log_not_found off; }

    location /static/ {
        #alias /home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite/www_dir/static/;
        root /home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite/www_dir;
    }

    location /media/ {
        #alias /home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite/www_dir/media/;
        root /home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite/www_dir;
    }

    location ~ \.(?:woff|woff2)$ {
        expires     31536000s;
        #uwsgi_pass 127.0.0.1:30003;
        uwsgi_pass unix:///home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite/myDjangoWebSvr.sock;
    }

    location / {
        #include /etc/nginx/uwsgi_params;
        include /home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite/www_dir/uwsgi_params;
        #uwsgi_pass 127.0.0.1:30003;
        uwsgi_pass unix:///home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite/myDjangoWebSvr.sock;
    }
}


----------------------------
-- uWSGI 설정 (/etc/uwsgi/vassals/uwsgi.ini)
    >> touch /home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite/logs/uwsgi/myDjangoWebSvr_uwsgi.log
    >> chmod 666 /home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite/logs/uwsgi/myDjangoWebSvr_uwsgi.log
    >> sudo mkdir -p /etc/uwsgi/vassals
    >> sudo vi /etc/uwsgi/vassals/uwsgi.ini 또는 myDjangoWeb_uwsgi.ini
----------------------------
[uwsgi]
chdir = /home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite
home = /home/sws/venv/myDjangoWebSvrP39
module = mysiteProject.wsgi:application
#socket = :30003
socket = /home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite/myDjangoWebSvr.sock
chmod-socket = 666
master = true

processes = 1
threads = 2
#pidfile = /tmp/uwsgi.pid
pidfile = /home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite/logs/uwsgi/myDjangoWebSvr_uwsgi.pid
vacuum = true
max-requests = 5000

#daemonize = /var/log/uwsgi/uwsgi.log
daemonize = /home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite/logs/uwsgi/myDjangoWebSvr_uwsgi.log


----------------------------
-- uWSGI 설정 (/etc/uwsgi/uwsgi_emperor.ini)
    >> touch /home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite/logs/uwsgi/myDjangoWebSvr_emperor.log
    >> chmod 666 /home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite/logs/uwsgi/myDjangoWebSvr_emperor.log
    >> sudo vi /etc/uwsgi/uwsgi_emperor.ini 또는 myDjangoWeb_uwsgi_emperor.ini
----------------------------
[uwsgi]
emperor = /etc/uwsgi/vassals
uid = sws
gid = sws
master = true
#pidfile = /tmp/emperor.pid
pidfile = /home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite/logs/uwsgi/myDjangoWebSvr_emperor.pid
vacuum = true
#daemonize = /var/log/uwsgi/emperor.log
daemonize = /home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite/logs/uwsgi/myDjangoWebSvr_emperor.log


----------------------------
-- NGINX + uWSGI 시작
    >> vi /home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite/start_All.sh
    >> chmod 755 /home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite/start_All.sh
----------------------------
#cd /home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite

#sudo nginx
sudo nginx -s reload

#sudo uwsgi --emperor /etc/uwsgi/vassals --uid sws --gid sws
#sudo uwsgi --ini /etc/uwsgi/uwsgi_emperor.ini
sudo uwsgi --ini /etc/uwsgi/myDjangoWeb_uwsgi_emperor.ini


----------------------------
-- NGINX + uWSGI 중지
    >> vi /home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite/stop_All.sh
    >> chmod 755 /home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite/stop_All.sh
----------------------------
#cd /home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite

sudo nginx -s stop

#sudo uwsgi --stop /tmp/emperor.pid
sudo uwsgi --stop /home/sws/swsapp/mywebsite/stevenlabs/01_DjangoExampleWebApp/ExamBlogWebSite/logs/uwsgi/myDjangoWebSvr_emperor.pid
